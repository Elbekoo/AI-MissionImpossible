package messionImpossible;

public class MissionImpossible extends generic_search {
	int m, n, k, c;
	IMF_member[] IMF_members;
	Point Ethan;
	Point Submarine;
	Object[][] Grid;

	public MissionImpossible() {
		genGrid();
		printGrid(Grid);
	}

	public void genGrid() {
		m = (int) (Math.random() * (15 - 5 + 1) + 5);
		n = (int) (Math.random() * (15 - 5 + 1) + 5);
		Grid = new Object[m][n];
		int ex = (int) (Math.random() * ((n - 1) - 0 + 1) + 0);
		int ey = (int) (Math.random() * ((m - 1) - 0 + 1) + 0);
		IMF_member Ethan = new IMF_member(new Point(ex, ey), 99, "E");
		Grid[ey][ex] = Ethan;
		int sx = (int) (Math.random() * ((n - 1) - 0 + 1) + 0);
		int sy = (int) (Math.random() * ((m - 1) - 0 + 1) + 0);
		while (ex == sx && ey == sy) {
			sx = (int) (Math.random() * ((n - 1) - 0 + 1) + 0);
			sy = (int) (Math.random() * ((m - 1) - 0 + 1) + 0);
		}
		Submarine = new Point(sx, sy);
		Grid[sy][sx] = Submarine;
		k = (int) (Math.random() * (10 - 5 + 1) + 5);
		c = (int) (Math.random() * (k - 1 + 1) + 1);
		IMF_members = new IMF_member[k];
		for (int i = 0; i < k; i++) {
			int x = (int) (Math.random() * ((n - 1) - 0 + 1) + 0);
			int y = (int) (Math.random() * ((m - 1) - 0 + 1) + 0);
			Point point = new Point(x, y);
			for (int j = 0; j < k; j++) {
				if ((IMF_members[j] != null)) {
					if ((ex == x && ey == y) || (IMF_members[j].point.x == x) && (IMF_members[j].point.y == y)
							|| (sx == x && sy == y)) {
						x = (int) (Math.random() * ((n - 1) - 0 + 1) + 0);
						y = (int) (Math.random() * ((m - 1) - 0 + 1) + 0);
						point.x = x;
						point.y = y;
						j = 0;
					}
				}
			}
			int h = (int) (Math.random() * (99 - 1 + 1) + 1);
			IMF_members[i] = new IMF_member(point, false, h, "F");
			Grid[y][x] = IMF_members[i];
		}
	}

	public void printGrid(Object[][] Grid) {
		for (int i = 0; i < Grid.length; i++) {
			String s;
			for (int j = 0; j < Grid[0].length; j++) {
				if (Grid[i][j] != null) {
					try {
						IMF_member m = (IMF_member) Grid[i][j];
						s = m.name + "(" + m.health + ")  "+"|";
						if(s.length()<8) {
							s = m.name + "(" + m.health + ")   "+"|";
						}
						System.out.print(s);
					} catch (Exception e) {
						s = "S      |";
						System.out.print(s);
					}
				} else {
					System.out.print("|       |");

				}
			}
			System.out.println();
		}

	}

	public static void solve() {

	}

	public static void main(String[] args) {
		MissionImpossible A = new MissionImpossible();

	}

}
